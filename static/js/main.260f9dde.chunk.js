(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{231:function(e,t,a){e.exports=a(435)},425:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){"use strict";a.r(t);a(232),a(234),a(235);var n=a(0),r=a.n(n),o=a(46),i=a.n(o),c=a(170),s=a.n(c),l=a(38),p=a(171),u=a(29),h=a(18),d=a(5),v=a(57),y=a(55),m=a.n(y),f=a(56),O={activeStory:null,activeView:null,activePanel:null,activeHash:null,storiesHistory:[],viewsHistory:[],panelsHistory:[],activeModals:[],modalHistory:[],popouts:[],scrollPosition:[],activeModalProps:{},headerContexts:[],routeParams:{},hashParams:{},storiesHashes:{}},b={accessToken:void 0,colorScheme:"client_light",activeTab:[],componentScroll:[]},j={forms:[]},w=Object(l.combineReducers)({vkui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COLOR_SCHEME":return Object(d.a)({},e,{colorScheme:t.payload});case"SET_ACCESS_TOKEN":return Object(d.a)({},e,{accessToken:t.payload});case"SET_ACTIVE_TAB":return Object(d.a)({},e,{activeTab:Object(d.a)({},e.activeTab,Object(h.a)({},t.payload.component,t.payload.tab))});case"SET_SCROLL_POSITION":return Object(d.a)({},e,{componentScroll:Object(d.a)({},e.componentScroll,Object(h.a)({},t.payload.component,{x:t.payload.x,y:t.payload.y}))});case"SET_SCROLL_POSITION_BY_ID":var a=document.getElementById(t.payload.component).getElementsByClassName("HorizontalScroll__in")[0],n=a.scrollLeft,r=a.scrollTop;return Object(d.a)({},e,{componentScroll:Object(d.a)({},e.componentScroll,Object(h.a)({},t.payload.component,{x:n,y:r}))});default:return e}},router:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":var a=t.payload.view,n=t.payload.panel;window.history.pushState(null,null);var r=e.panelsHistory[a]||[],o=e.viewsHistory[e.activeStory]||[],i=e.storiesHashes;i[e.activeStory]||(i[e.activeStory]={hashes:[],hashParams:[]});var c=o.indexOf(a);return-1!==c&&o.splice(c,1),-1===r.indexOf(n)&&(r=[].concat(Object(v.a)(r),[n])),r.length>1&&f.a.send("VKWebAppEnableSwipeBack",{}),Object(d.a)({},e,{activeView:a,activePanel:n,panelsHistory:Object(d.a)({},e.panelsHistory,Object(h.a)({},a,r)),viewsHistory:Object(d.a)({},e.viewsHistory,Object(h.a)({},e.activeStory,[].concat(Object(v.a)(o),[a]))),scrollPosition:Object(d.a)({},e.scrollPosition,Object(h.a)({},e.activeStory+"_"+e.activeView+"_"+e.activePanel,window.pageYOffset)),storiesHashes:i});case"OPEN_HEADER_CONTEXT":window.history.pushState(null,null);var s=new Set([].concat(Object(v.a)(e.headerContexts),[t.payload.id]));return s=Array.from(s),Object(d.a)({},e,{headerContexts:s});case"CLOSE_HEADER_CONTEXT":var l=Object(v.a)(e.headerContexts),p=l.indexOf(t.payload.id);return p>=0&&l.splice(p,1),Object(d.a)({},e,{headerContexts:l});case"SET_STORY":window.history.pushState(null,null);var u=e.viewsHistory[t.payload.story]||[t.payload.story],y=e.storiesHistory,m=u[u.length-1],b=e.panelsHistory[m]||[t.payload.initial_panel],j=b[b.length-1],w=Object(v.a)(e.headerContexts),g=(Object(d.a)({},e.hashParams),e.storiesHashes);g[t.payload.story]||(g[t.payload.story]={hashes:[],hashParams:[]});var E=g[t.payload.story].hashes;if(g[t.payload.story].paramsHashes,t.payload.story===e.activeStory&&!t.payload.settingView){if(b.length>1){var k=b.shift();j=(b=[k])[b.length-1]}else if(u.length>1){var S=u.shift();m=(u=[S])[u.length-1],j=(b=e.panelsHistory[m])[b.length-1]}w.length>0&&w.pop(),g[t.payload.story].hashes.length&&(!t.payload.hash||t.payload.hash&&t.payload.hash===E[E.length-1])&&g[t.payload.story].hashes.pop(),g[t.payload.story].hashParams.length&&(!t.payload.hash||t.payload.hash&&t.payload.hash===E[E.length-1])&&g[t.payload.story].hashParams.pop()}if(t.payload.story===e.activeStory&&1===b.length&&window.pageYOffset>0&&!t.payload.hash&&(window.scrollTo(0,30),function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>30||t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))}()),(-1===y.indexOf(t.payload.story)||y[0]===t.payload.story&&y[y.length-1]!==t.payload.story)&&(y=[].concat(Object(v.a)(y),[t.payload.story])),t.payload.hash){g[t.payload.story].hashes.push(t.payload.hash||"");var P=t.payload.hashParams||{};g[t.payload.story].hashParams.push(P)}var H=g[t.payload.story];return Object(d.a)({},e,{activeStory:t.payload.story,activeView:m,activePanel:j,storiesHistory:y,viewsHistory:Object(d.a)({},e.viewsHistory,Object(h.a)({},m,u)),panelsHistory:Object(d.a)({},e.panelsHistory,Object(h.a)({},m,b)),scrollPosition:Object(d.a)({},e.scrollPosition,Object(h.a)({},e.activeStory+"_"+e.activeView+"_"+e.activePanel,window.pageYOffset)),headerContexts:w,activeHash:H.hashes[H.hashes.length-1],storiesHashes:g,hashParams:H.hashParams[H.hashParams.length-1]});case"GO_BACK":var C=e.activeView,_=e.activePanel,x=e.activeStory,A=e.hashParams,T=e.storiesHashes,V=e.activeHash,M=e.popouts;if(M[C])return M[C]=null,Object(d.a)({},e,{popouts:Object(d.a)({},e.popouts,{popoutsData:M})});var B=e.modalHistory[C];if(void 0!==B&&0!==B.length){var D=B[B.length-2]||null;return null===D?B=[]:-1!==B.indexOf(D)?B=B.splice(0,B.indexOf(D)+1):B.push(D),Object(d.a)({},e,{activeModals:Object(d.a)({},e.activeModals,Object(h.a)({},C,D)),modalHistory:Object(d.a)({},e.modalHistory,Object(h.a)({},C,B))})}var L=e.panelsHistory[C]||[],N=e.viewsHistory[e.activeStory]||[],I=e.storiesHistory;if(L.length>1)L.pop(),_=L[L.length-1];else if(N.length>1){N.pop(),C=N[N.length-1];var R=e.panelsHistory[C];_=R[R.length-1]}else if(I.length>1&&"Android"===t.payload.from){I.pop(),x=I[I.length-1],C=e.viewsHistory[x][e.viewsHistory[x].length-1];var K=e.panelsHistory[C];_=K.length>1?K[K.length-1]:K[0]}else f.a.send("VKWebAppClose",{status:"success"});var G=T[e.activeStory];return G&&(G.hashes.length&&G.hashes.pop(),G.hashParams.length&&G.hashParams.pop(),A=G.hashParams[G.hashParams.length-1],V=G.hashes[G.hashes.length-1]),1===L.length&&"iOS"===t.payload.from&&f.a.send("VKWebAppDisableSwipeBack",{}),Object(d.a)({},e,{activeView:C,activePanel:_,activeStory:x,viewsHistory:Object(d.a)({},e.viewsHistory,Object(h.a)({},e.activeView,N)),panelsHistory:Object(d.a)({},e.panelsHistory,Object(h.a)({},e.activeView,L)),storiesHashes:T,hashParams:A,activeHash:V});case"OPEN_POPOUT":return window.history.pushState(null,null),Object(d.a)({},e,{popouts:Object(d.a)({},e.popouts,Object(h.a)({},e.activeView,t.payload.popout))});case"CLOSE_POPOUT":return Object(d.a)({},e,{popouts:Object(d.a)({},e.popouts,Object(h.a)({},e.activeView,null))});case"OPEN_MODAL":window.history.pushState(null,null);var F=t.payload.id||null,U=t.payload.modalProps||{},W=e.modalHistory[e.activeView]?Object(v.a)(e.modalHistory[e.activeView]):[];return null===F?W=[]:-1!==W.indexOf(F)?W=W.splice(0,W.indexOf(F)+1):W.push(F),Object(d.a)({},e,{activeModals:Object(d.a)({},e.activeModals,Object(h.a)({},e.activeView,F)),modalHistory:Object(d.a)({},e.modalHistory,Object(h.a)({},e.activeView,W)),activeModalProps:U});case"CLOSE_MODAL":var Y=e.modalHistory[e.activeView][e.modalHistory[e.activeView].length-2]||null,z=e.modalHistory[e.activeView]?Object(v.a)(e.modalHistory[e.activeView]):[];return null===Y?z=[]:-1!==z.indexOf(Y)?z=z.splice(0,z.indexOf(Y)+1):z.push(Y),Object(d.a)({},e,{activeModals:Object(d.a)({},e.activeModals,Object(h.a)({},e.activeView,Y)),modalHistory:Object(d.a)({},e.modalHistory,Object(h.a)({},e.activeView,z))});default:return e}},formData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_FORM_DATA":return Object(d.a)({},e,{forms:Object(d.a)({},e.forms,Object(h.a)({},t.payload.form,t.payload.data))});default:return e}}}),g=a(173),E={"^hash_link":{story:"main",view:"main",panel:"hash_link"}},k={};for(var S in E)k[S]=Object(d.a)({},E[S],{regExp:new RegExp(S,E[S].flags)});var P=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"SET_STORY",payload:{story:e,initial_panel:t,hashParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},hash:a,settingView:arguments.length>4&&void 0!==arguments[4]?arguments[4]:""}}},H=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"SET_PAGE",payload:{view:e,panel:t,hashParams:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},hash:a}}},C=function(){return{type:"GO_BACK",payload:{from:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"iOS"}}},_=function(){return{type:"CLOSE_MODAL"}},x=(a(424),a(425),a(25)),A=a(26),T=a(30),V=a(28),M=a(31),B=a(96),D=a(22),L=a.n(D),N=a(39),I="https://localhost/restApi",R=a(174),K=a(132),G=a.n(K),F=function(){function e(){Object(x.a)(this,e),this.handler=function(){}}return Object(A.a)(e,[{key:"withErrorHandler",value:function(e){return this.handler=e,this._token="",this}},{key:"serialize",value:function(e,t){var a,n=[];for(a in e)if(e.hasOwnProperty(a)){var r=t?t+"["+a+"]":a,o=e[a];n.push(null!==o&&"object"===typeof o?this.serialize(o,r):encodeURIComponent(r)+"="+encodeURIComponent(o))}return n.join("&")}},{key:"prepareData",value:function(){var e=Object(N.a)(L.a.mark(function e(t){var a,n,r,o,i,c,s=arguments;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:{},n=s.length>2&&void 0!==s[2]&&s[2],r=s.length>3&&void 0!==s[3]?s[3]:"get",o=s.length>4&&void 0!==s[4]&&s[4],this.token&&(a.token=this.token),n&&(a.u=(new Date).getTime()),i={},c={},"post"===r&&(i={Accept:"application/json","Content-Type":"application/json"},c.body=o?a:JSON.stringify(a),a={}),a=(a=this.serialize(a))?"?".concat(a):"",e.abrupt("return",["".concat(I).concat(t).concat(a),Object(d.a)({method:"get"===r?"GET":"POST",mode:"cors",headers:Object(d.a)({"Vk-Params":window.location.search.substring(1)},i)},c)]);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"makeQuery",value:function(){var e=Object(N.a)(L.a.mark(function e(t,a){var n=this;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){var o="";Object(R.a)(t,a).then(function(){var t=Object(N.a)(L.a.mark(function t(a){return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.text();case 2:if(o=t.sent,!(a=JSON.parse(o)).error){t.next=7;break}return n.handler(a),t.abrupt("return",r(a));case 7:return t.abrupt("return",e(a.response));case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){var t=new String("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");return t.response=o,t.isServerError=!0,n.handler?(n.handler(t),r(t)):r(t)})}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"makeQueryAjax",value:function(){var e=Object(N.a)(L.a.mark(function e(t){var a=this;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){t.success=function(t){var r=t;return r.error?(a.handler(r),n(r)):e(r.response)},t.error=function(e,t,r){var o=new String("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");return o.response=t,o.isServerError=!0,a.handler?(a.handler(o),n(o)):n(o)},t.xhr=function(){var e=G.a.ajaxSettings.xhr();return t.xhrLoads(e),e},G.a.ajax(t)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(N.a)(L.a.mark(function e(t){var a,n,r=this,o=arguments;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]&&o[2],e.abrupt("return",new Promise(function(){var e=Object(N.a)(L.a.mark(function e(o,i){var c,s,l,p;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.prepareData(t,a,n);case 2:return c=e.sent,s=Object(B.a)(c,2),l=s[0],p=s[1],e.abrupt("return",r.makeQuery(l,p).then(o,i));case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(N.a)(L.a.mark(function e(t){var a,n,r=this,o=arguments;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]&&o[2],e.abrupt("return",new Promise(function(){var e=Object(N.a)(L.a.mark(function e(o,i){var c,s,l,p;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.prepareData(t,a,n,"post");case 2:return c=e.sent,s=Object(B.a)(c,2),l=s[0],p=s[1],e.abrupt("return",r.makeQuery(l,p).then(o,i));case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFile",value:function(){var e=Object(N.a)(L.a.mark(function e(t,a){var n,r,o,i,c=this,s=arguments;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]&&s[2],r=s.length>3&&void 0!==s[3]?s[3]:"file",o=s.length>4&&void 0!==s[4]?s[4]:{},(i=new FormData).append(r,a),e.abrupt("return",new Promise(function(){var e=Object(N.a)(L.a.mark(function e(a,r){var s,l,p,u;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.prepareData(t,i,n,"post",!0);case 2:return s=e.sent,l=Object(B.a)(s,2),p=l[0],(u=l[1]).url=p,(u=Object(d.a)({},o,u)).headers["Content-Type"]=void 0,u.headers.Accept=void 0,u=Object(d.a)({},o,{contentType:!1,processData:!1,type:u.method,url:u.url,headers:u.headers,data:i,cache:!1}),e.abrupt("return",c.makeQueryAjax(u).then(a,r));case 12:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"setAuthToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._token=e}}]),e}(),U=a(6),W=a(178),Y=a.n(W),z=a(179),J=a.n(z),Q=(a(434),function(e){function t(){return Object(x.a)(this,t),Object(T.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"outline-message"},this.props.text)}}]),t}(r.a.PureComponent)),q=a(180),X=a.n(q),Z=a(60),$=a.n(Z),ee=function(e){function t(){return Object(x.a)(this,t),Object(T.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(U.g,{onClick:function(){e.props.onClick&&e.props.onClick(),e.props.goBack()}},"close"===this.props.icon?r.a.createElement($.a,null):r.a.createElement(X.a,null))}}]),t}(r.a.PureComponent),te={goBack:C},ae=Object(u.b)(null,te)(ee),ne=function(e){function t(){return Object(x.a)(this,t),Object(T.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props.id;return r.a.createElement(U.n,{id:e},r.a.createElement(U.o,{left:this.props.showBackButton?r.a.createElement(ae,null):null},"\u041f\u0440\u0438\u043c\u0435\u0440"),r.a.createElement(U.e,null,r.a.createElement(Q,{text:this.props.text})))}}]),t}(r.a.Component),re={setPage:H,goBack:C},oe=Object(u.b)(function(e){return{}},re)(ne),ie=a(95),ce=a.n(ie),se=a(94),le=a.n(se),pe=[{name:"VKS",avatar:"https://pp.userapi.com/c851520/v851520442/48ce/Sik7V4c58qw.jpg",desc:"\u041d\u0435\u0442, \u043c\u0435\u043d\u044f \u043d\u0435 \u0440\u043e\u043d\u044f\u043b\u0438 \u0432 \u0434\u0435\u0442\u0441\u0442\u0432\u0435"},{name:"\u041d\u0435\u0434\u043e\u0431\u043e\u0442",avatar:"https://pp.userapi.com/c854420/v854420431/da51/X8ohw4-4Fk4.jpg",desc:"\u042f \u043d\u0438 \u0440\u0430\u0437\u0443 \u043d\u0435 \u043f\u0438\u043b \u043a\u043e\u043a\u043e\u0441\u043e\u0432\u043e\u0435 \u043c\u043e\u043b\u043e\u043a\u043e"},{name:"Callback API \u0411\u043e\u0442",avatar:"https://pp.userapi.com/c846523/v846523036/1e69b7/UxWZ1yAqY7I.jpg",desc:"\u0414\u0430\u0436\u0435 \u043d\u0435 \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0439"}],ue=function(e){function t(){return Object(x.a)(this,t),Object(T.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.onClose,n=e.openModal;return r.a.createElement(U.k,{id:t,header:r.a.createElement(U.l,{left:!U.h&&r.a.createElement(U.g,{onClick:a},r.a.createElement($.a,null)),right:U.h&&r.a.createElement(U.g,{onClick:a},r.a.createElement(ce.a,null))},"/appbots \u043d\u0430 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u043a\u0430\u0445"),onClose:a,settlingHeight:80},r.a.createElement(U.j,null,pe.map(function(e,t){return r.a.createElement(U.c,{key:t,description:e.desc,before:r.a.createElement(U.b,{size:40,src:e.avatar}),onClick:function(){return n("MODAL_PAGE_BOT_INFO")},asideContent:r.a.createElement(le.a,{fill:"#528bcc"})},e.name)})))}}]),t}(r.a.Component),he={openModal:function(e){return{type:"OPEN_MODAL",payload:{id:e,modalProps:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}}}},de=Object(u.b)(null,he)(ue),ve=function(e){function t(){return Object(x.a)(this,t),Object(T.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.onClose;return r.a.createElement(U.k,{id:t,header:r.a.createElement(U.l,{left:!U.h&&r.a.createElement(U.g,{onClick:a},r.a.createElement($.a,null)),right:U.h&&r.a.createElement(U.g,{onClick:a},r.a.createElement(ce.a,null))},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435"),onClose:a,settlingHeight:80},r.a.createElement(U.c,{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",before:r.a.createElement(U.b,{size:40,src:"https://vk.com/images/community_100.png?ava=1"})},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(U.j,null,r.a.createElement(U.c,null,r.a.createElement(U.i,{title:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432"},"8800")),r.a.createElement(U.c,null,r.a.createElement(U.i,{title:"\u0417\u0430\u043f\u0438\u0441\u0435\u0439"},"555")),r.a.createElement(U.c,null,r.a.createElement(U.i,{title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"},"3535"))))}}]),t}(r.a.Component),ye=Object(u.b)()(ve),me=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(V.a)(t)).call.apply(e,[this].concat(r)))).gotToPage=function(e){for(var t=!1,n=e.target;n.parentNode&&n.parentNode!==e.currentTarget;){if(n.parentNode.href&&n.parentNode.href.match(/^https/)){t=!0;break}n=n.parentNode}if(t||e.target.href&&e.target.href.match(/^https/))return!0;e.preventDefault(),a.props.setRouteHash(a.props.hash,a.props.params||{})},a}return Object(M.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return r.a.cloneElement(this.props.children,{onClick:this.gotToPage})}}]),t}(r.a.PureComponent),fe={setRouteHash:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){var n=!1;for(var r in k)e.match(k[r].regExp)&&(n=k[r]);if(n){if(n.params){var o=n.params(e.match(n.regExp));t=Object(d.a)({},t,o),console.log(t)}a(P(n.story,n.panel,e,t,n.view)),a(H(n.view,n.panel,e,t))}}}},Oe=Object(u.b)(function(e){return{}},fe)(me),be=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(T.a)(this,Object(V.a)(t).call(this,e))).restApiErrorHandler=function(e){e.isServerError?alert(e.message?e.message:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430","\u041e\u0448\u0438\u0431\u043a\u0430"):alert(e.error?e.error:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430","\u041e\u0448\u0438\u0431\u043a\u0430")},a.lastAndroidBackAction=0,a.routes=k,a.rest=new F,a.rest.withErrorHandler(a.restApiErrorHandler),window.alert=function(){var e;return(e=a).alert.apply(e,arguments)},window.confirm=function(){var e;return(e=a).confirm.apply(e,arguments)},window.prompt=function(){var e;return(e=a).prompt.apply(e,arguments)},a}return Object(M.a)(t,e),Object(A.a)(t,[{key:"confirm",value:function(){}},{key:"alert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.props.openPopout(r.a.createElement(U.a,{actions:[{title:"\u041e\u041a",autoclose:!0}],onClose:this.props.closePopout},r.a.createElement("h2",null,t.toString()),r.a.createElement("p",null,"object"===typeof e||Array.isArray(e)?JSON.stringify(e):e.toString())))}},{key:"prompt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Function(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\u041e\u041a",o="";this.props.openPopout(r.a.createElement(U.a,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,style:"cancel",action:function(){return t(null)}},{title:n,autoclose:!0,action:function(){return t(o)}}],onClose:this.props.closePopout},r.a.createElement("p",null,e),r.a.createElement("div",{style:{marginTop:9}},r.a.createElement(U.s,{defaultValue:a,onChange:function(e){o=e.target.value}}))))}},{key:"confirm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Function(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u041e\u041a";this.props.openPopout(r.a.createElement(U.a,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,style:"cancel",action:function(){return t(!1)}},{title:a,autoclose:!0,action:function(){return t(!0)}}],onClose:this.props.closePopout},r.a.createElement("p",null,e)))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.goBack;(0,t.dispatch)(function(e){m.a.subscribe(function t(a){"VKWebAppUpdateConfig"===a.detail.type&&(m.a.unsubscribe(t),e({type:"SET_COLOR_SCHEME",payload:a.detail.data.scheme}))}),f.a.send("VKWebAppInit",{})}),window.onpopstate=function(t){var n=+new Date;"popstate"===t.type&&(n-e.lastAndroidBackAction>500?(e.lastAndroidBackAction=n,e.props.headerContexts.length?e.props.closeHeaderContext(e.props.headerContexts[e.props.headerContexts.length-1]):a("Android")):window.history.pushState(null,null))}}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,r=n.activeView,o=n.activeStory,i=n.activePanel,c=n.scrollPosition;if(e.activeView!==r||e.activePanel!==i||e.activeStory!==o){var s=c[o+"_"+r+"_"+i]||0;window.scroll(0,s)}}},{key:"render",value:function(){var e=this.props,t=e.goBack,a=e.setStory,n=e.closeModal,o=e.popouts,i=e.activeView,c=e.activeStory,s=e.activePanel,l=e.activeModals,p=e.panelsHistory,u=e.colorScheme,h=void 0===p[i]?[i]:p[i],d=void 0===o[i]?null:o[i],v=void 0===l[i]?null:l[i],y=r.a.createElement(U.m,{activeModal:v},r.a.createElement(de,{id:"MODAL_PAGE_BOTS_LIST",onClose:function(){return n()}}),r.a.createElement(ye,{id:"MODAL_PAGE_BOT_INFO",onClose:function(){return n()}}));return r.a.createElement(U.d,{isWebView:!0,scheme:u},r.a.createElement(U.f,{activeStory:c,tabbar:r.a.createElement(U.q,null,r.a.createElement(U.r,{onClick:function(){return a("main","main")},selected:"main"===c},r.a.createElement(Y.a,null)),r.a.createElement(U.r,{onClick:function(){return a("more","callmodal")},selected:"more"===c},r.a.createElement(J.a,null)))},r.a.createElement(U.p,{id:"main",activeView:i,popout:d},r.a.createElement(U.t,{id:"main",modal:y,activePanel:s,history:h,onSwipeBack:function(){return t()}},r.a.createElement(oe,{id:"main",text:r.a.createElement(Oe,{hash:"hash_link"},r.a.createElement("span",null))}),r.a.createElement(oe,{id:"hash_link",text:"\u0412\u043e\u0442 \u0442\u0443\u0442 \u0443\u0436\u0435 /#hash_link",showBackButton:!0})))))}}]),t}(r.a.Component);var je=Object(u.b)(function(e){return{activeView:e.router.activeView,activePanel:e.router.activePanel,activeStory:e.router.activeStory,panelsHistory:e.router.panelsHistory,activeModals:e.router.activeModals,popouts:e.router.popouts,scrollPosition:e.router.scrollPosition,headerContexts:e.router.headerContexts,colorScheme:e.vkui.colorScheme}},function(e){return Object(d.a)({dispatch:e},Object(l.bindActionCreators)({setStory:P,goBack:C,closeModal:_},e))})(be);a.d(t,"store",function(){return we});var we=Object(l.createStore)(w,Object(g.composeWithDevTools)(Object(l.applyMiddleware)(p.a)));we.dispatch(P("main","main")),window.onerror=function(e,t,a,n,r){var o="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u0438\u0448\u043b\u0438\u0442\u0435 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442 \u043d\u0430\u043c {GROUP_LINK}".replace(/\{GROUP_LINK\}/g,"vk.com/challengerapp")+" <br/><pre>"+e+"\n"+t+":"+a+":"+n+"\n"+(r||{}).stack+"</pre><br/>"+window.navigator.userAgent;return document.body.innerHTML=o,console.error(r),console.info(o),!1};var ge=document.getElementById("root");s()(ge),i.a.render(r.a.createElement(u.a,{store:we},r.a.createElement(je,null)),ge)}},[[231,1,2]]]);
//# sourceMappingURL=main.260f9dde.chunk.js.map